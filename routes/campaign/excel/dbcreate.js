const _0x142bd5 = _0x27dc; function _0x27dc(_0x175986, _0x2b65e0) { const _0x588a46 = _0x588a(); return _0x27dc = function (_0x27dc6e, _0x272120) { _0x27dc6e = _0x27dc6e - 0x1e9; let _0x2ddf02 = _0x588a46[_0x27dc6e]; return _0x2ddf02; }, _0x27dc(_0x175986, _0x2b65e0); } function _0x588a() { const _0x3606b4 = ['QR\x20Generated', 'database\x20created', '--disable-dev-shm-usage', '--disable-setuid-sandbox', 'replace', '7107120PUgGfh', 'getNumberId', '--no-sandbox', 'auth_failure', 'uid', 'msg', 'sendMessage', 'mainFun', 'sending_msg', '8255XImDcr', 'var_two', 'json', '302BrPIzf', '--disable-extensions', '3420580gQKvwJ', 'Mobile\x20number\x20is\x20not\x20registered', 'toString', '--disable-gpu', 'UPDATE\x20campaign\x20SET\x20qr_code\x20=\x20\x27', 'user_data', '18qKCwxS', 'substring', '{var_one}', '{var_two}', 'UPDATE\x20campaign\x20SET\x20login_status\x20=\x20\x271\x27\x20WHERE\x20unique_id\x20=\x20\x27', '508JWxsIO', '5533880ITxrIE', 'sent', 'msg\x20sent', 'log', 'excel_array', '3531846gvTxiP', 'query', 'fromUrl', '\x27,\x20qr_bulk\x20=\x20\x27NULL\x27\x20WHERE\x20uid\x20=\x20\x27', '../../../config/config', 'destroy', '7ZQBIiV', 'logout', 'UPDATE\x20user\x20SET\x20left_msg\x20=\x20\x27', 'UPDATE\x20campaign\x20SET\x20status\x20=\x20\x27Completed\x27,\x20sent_msg\x20=\x20\x27', 'ready', 'yes', '--single-process', 'initialize', '\x27,\x20\x27', 'added\x20qr', 'Db\x20query\x20error', 'media_url', 'left_msg', 'Task\x20done', 'with_media', 'numbers', '_serialized', 'body', 'delay_in_sec', '\x27\x20)', '\x27\x20WHERE\x20unique_id\x20=\x20\x27', 'decode', '--no-zygote', '\x27,\x20\x20\x27', 'length', 'var_one', '11933416uDXdCm', 'slice', 'user\x20left\x20messages\x20updated', '--no-first-run', 'moment', '29465zApDPm', 'INSERT\x20into\x20campaign\x20(unique_id,\x20uid,\x20total_msg)\x20VALUES\x20(\x27']; _0x588a = function () { return _0x3606b4; }; return _0x588a(); } (function (_0x22dd3a, _0x262c7a) { const _0x7f2acd = _0x27dc, _0x48bcba = _0x22dd3a(); while (!![]) { try { const _0x4ab468 = parseInt(_0x7f2acd(0x202)) / 0x1 * (parseInt(_0x7f2acd(0x205)) / 0x2) + -parseInt(_0x7f2acd(0x218)) / 0x3 + -parseInt(_0x7f2acd(0x212)) / 0x4 * (parseInt(_0x7f2acd(0x1f2)) / 0x5) + parseInt(_0x7f2acd(0x1f9)) / 0x6 + -parseInt(_0x7f2acd(0x21e)) / 0x7 * (-parseInt(_0x7f2acd(0x1ed)) / 0x8) + -parseInt(_0x7f2acd(0x20d)) / 0x9 * (parseInt(_0x7f2acd(0x207)) / 0xa) + -parseInt(_0x7f2acd(0x213)) / 0xb; if (_0x4ab468 === _0x262c7a) break; else _0x48bcba['push'](_0x48bcba['shift']()); } catch (_0x4341bf) { _0x48bcba['push'](_0x48bcba['shift']()); } } }(_0x588a, 0xc5b55)); const con = require(_0x142bd5(0x21c)), { Client, LocalAuth, MessageMedia } = require('whatsapp-web.js'), moment = require(_0x142bd5(0x1f1)); function mainFun({ unique_id: _0x29ef80, body: _0x43d2d, req: _0x3e4f7f, res: _0x4ac633 }) { return new Promise(async (_0x2a9303, _0x49b96a) => { const _0x58d248 = _0x27dc; try { const _0x54e14d = await _0x382bd1(), _0x393bda = new Client({ 'puppeteer': { 'headless': !![], 'args': [_0x58d248(0x1fb), _0x58d248(0x1f7), _0x58d248(0x206), _0x58d248(0x1f6), '--disable-accelerated-2d-canvas', _0x58d248(0x1f0), _0x58d248(0x1e9), _0x58d248(0x224), _0x58d248(0x20a)] } }); _0x393bda['on']('qr', async _0x261cba => { const _0x49df2b = _0x58d248, _0x107010 = _0x49df2b(0x20b) + _0x261cba + _0x49df2b(0x232) + _0x29ef80 + '\x27'; con['query'](_0x107010, (_0x585f81, _0x45185c) => { const _0x303d20 = _0x49df2b; if (_0x585f81) return { 'err': _0x585f81, 'msg': _0x303d20(0x228) }; else { console[_0x303d20(0x216)](_0x303d20(0x227)); return; } }), _0x4ac633[_0x49df2b(0x204)]({ 'msg': _0x49df2b(0x1f4), 'success': !![], 'qr': _0x261cba, 'unique_id': _0x29ef80 }); }), _0x393bda['on'](_0x58d248(0x1fc), () => { setTimeout(() => { const _0x5f1709 = _0x27dc; _0x393bda[_0x5f1709(0x21d)](); }, 0x7d0); }); function _0x382bd1() { return new Promise(async (_0x3b68bd, _0x3139e4) => { const _0x511f4e = _0x27dc; var _0x1c68c8 = _0x511f4e(0x1f3) + _0x29ef80 + _0x511f4e(0x226) + _0x3e4f7f[_0x511f4e(0x233)][_0x511f4e(0x1fd)] + _0x511f4e(0x1ea) + _0x3e4f7f[_0x511f4e(0x22f)]['excel_array']['length'] + _0x511f4e(0x231); con[_0x511f4e(0x219)](_0x1c68c8, (_0x2fe686, _0x2f36b7) => { const _0x204a16 = _0x511f4e; if (_0x2fe686) return { 'err': _0x2fe686, 'msg': _0x204a16(0x228) }; else { _0x3b68bd({ 'msg': _0x204a16(0x1f5) }); return; } }); }); } function _0x53eea4(_0x35a914, _0x27f4c3, _0x573b2b, _0x40f1db) { return new Promise(async (_0x2f9907, _0xf78eae) => { const _0xd47198 = _0x27dc, _0x497bbc = _0x27f4c3, _0x2d75a2 = _0x497bbc[_0xd47198(0x209)]()[_0xd47198(0x1f8)](/[- )(]/g, ''), _0x2bdce7 = '' + _0x35a914 + _0x2d75a2[_0xd47198(0x20e)](_0x2d75a2[_0xd47198(0x1eb)] - 0xa), _0x35aba5 = await _0x393bda[_0xd47198(0x1fa)](_0x2bdce7); if (_0x35aba5) { if (_0x40f1db) { const _0x57b5a6 = await _0x393bda['sendMessage'](_0x35aba5['_serialized'], _0x40f1db, { 'caption': _0x573b2b }); console[_0xd47198(0x216)](_0xd47198(0x215)); } else { const _0x132fb1 = await _0x393bda[_0xd47198(0x1ff)](_0x35aba5[_0xd47198(0x22e)], _0x573b2b); console['log']('msg\x20sent\x20no\x20media'); } _0x2f9907({ 'msg': _0xd47198(0x223) }); return; } else console['log'](_0x2bdce7, _0xd47198(0x208)), _0x2f9907({ 'msg': 'no' }); }); } function _0x736eab({ media: _0x209740 }) { let _0x44e7e1 = 0x0, _0x5c4ed7 = 0x0; return new Promise((_0x57e35f, _0x1a4fab) => { const _0xde4f4c = _0x27dc; var _0x1af7ac = setInterval(async () => { const _0x1f68f2 = _0x27dc, _0x1ea38f = await _0x53eea4(_0x43d2d[_0x1f68f2(0x217)][_0x44e7e1][_0x1f68f2(0x22d)]['toString']()[_0x1f68f2(0x1ee)](0x0, 0x2), _0x43d2d[_0x1f68f2(0x217)][_0x44e7e1][_0x1f68f2(0x22d)][_0x1f68f2(0x209)]()[_0x1f68f2(0x20e)](0x2), _0x43d2d[_0x1f68f2(0x201)]['replace'](_0x1f68f2(0x20f), _0x43d2d['excel_array'][_0x44e7e1][_0x1f68f2(0x1ec)])[_0x1f68f2(0x1f8)](_0x1f68f2(0x210), _0x43d2d[_0x1f68f2(0x217)][_0x44e7e1][_0x1f68f2(0x203)]), _0x209740, _0x393bda); _0x44e7e1 += 0x1, _0x1ea38f[_0x1f68f2(0x1fe)] === 'yes' && (_0x5c4ed7 += 0x1), _0x43d2d[_0x1f68f2(0x217)][_0x1f68f2(0x1eb)] === _0x44e7e1 && (clearInterval(_0x1af7ac), _0x57e35f({ 'sent': _0x5c4ed7 })); }, parseInt(_0x43d2d[_0xde4f4c(0x230)]) * 0x3e8); }); } function _0x4f7848({ left_msg: _0x1e9d6e, resp: _0x439ac9 }) { return new Promise((_0x1edae8, _0x32e12b) => { const _0x4570ff = _0x27dc; var _0x2716d3 = _0x4570ff(0x221) + _0x439ac9[_0x4570ff(0x214)] + '\x27\x20WHERE\x20unique_id\x20=\x20\x27' + _0x29ef80 + '\x27\x20'; con[_0x4570ff(0x219)](_0x2716d3, async (_0x578f75, _0x58b034) => { const _0x40c69a = _0x4570ff; if (_0x578f75) { console[_0x40c69a(0x216)](_0x578f75); return; } else setTimeout(async () => { const _0x275df2 = _0x40c69a; await _0x393bda[_0x275df2(0x21f)](); }, 0x2710), con[_0x40c69a(0x219)](_0x40c69a(0x220) + _0x1e9d6e + _0x40c69a(0x21b) + _0x3e4f7f[_0x40c69a(0x233)][_0x40c69a(0x1fd)] + '\x27\x20', (_0x3f0abe, _0x3e4584) => { const _0x5c542f = _0x40c69a; if (_0x578f75) { console['log'](_0x578f75); return; } else console[_0x5c542f(0x216)](_0x5c542f(0x1ef)), _0x1edae8(); }); }); }); } _0x393bda['on'](_0x58d248(0x222), async () => { const _0x1c18d4 = _0x58d248; con[_0x1c18d4(0x219)](_0x1c18d4(0x211) + _0x29ef80 + '\x27'); let _0x55061c = ![]; _0x43d2d[_0x1c18d4(0x229)] && _0x43d2d[_0x1c18d4(0x22c)] ? _0x55061c = await MessageMedia[_0x1c18d4(0x21a)](_0x43d2d[_0x1c18d4(0x229)]) : _0x55061c = ![]; const _0xcd0da2 = await _0x736eab({ 'media': _0x55061c, 'body': _0x43d2d }); var _0x22d257 = _0x3e4f7f[_0x1c18d4(0x20c)][_0x1c18d4(0x22a)] - _0xcd0da2['sent']; await _0x4f7848({ 'left_msg': _0x22d257, 'resp': _0xcd0da2 }), _0x2a9303(), console[_0x1c18d4(0x216)](_0x1c18d4(0x22b)); }), _0x393bda[_0x58d248(0x225)](); } catch (_0x278e91) { console[_0x58d248(0x216)](_0x278e91); } }); } exports[_0x142bd5(0x200)] = mainFun;